
## 前情提要

因为项目推进的需要，我越来越觉得在现有的智能体平台上单靠提示词工程（prompt engineering）能实现并稳定高效运行的功能实在有限，因此我开始调研有没有新技术能够对我产生帮助：

然后我就发现了Agent Skills这么一个有趣的东西。它并不是一个新模型，而是一套教会大模型规范化操作的新机制。

它最早由 Anthropic 在 2025 年 10 月 16 日 以内部功能的形式推出，最初集成在 Claude 3.7 的开发者预览版中。刚开始是为了解决AI在写代码、处理文档等场景中缺乏结构化执行能力的问题。

后来用的人越来越多，口碑也越来越好，于是在不断的完善中，他们干脆在 2025 年 12 月 18 日把整个规范开源了，发布了官网 agentskills.io，连 SDK 和 GitHub 仓库都一并放出。

消息一出，生态迅速跟进。短短几周内，Cursor 宣布在其 IDE 插件中支持 Skill 加载；Visual Studio Code 通过官方扩展实现了本地 Skill 调用；GitHub Copilot 也在其企业版中集成了对 Skill 的解析能力。甚至连一些低代码平台和自动化脚本工具也开始尝试兼容这一格式。

于是我就想，说不定过不了多久我们也能在国产大模型或者智能体平台上用上Agent Skills了，所以我就在这里简单的和大家聊一聊这个新技术。

---

## 什么是Agent Skills？

所以什么是Agent Skills？

简单来说，这就是一套可以复用的、基于文件系统实现的外部说明书，可以为大模型提供额外的专业领域的技术指导。

比如说，我想让大模型帮我生成一份符合公司规范的周报，传统做法是每次输入一大段提示词（可能还没有我下面写的专业）：

```txt
请按以下格式帮我写这周的周报：
## 以下是写作要求：
### 标题用【】括起来;
### 分‘本周进展’‘阻塞问题’‘下周计划’三部分;
### 每项不超过3条，语言简洁;
……
## 以下是我的参考资料：
「（从word或者excel文档复制进来的一大段文本）」
………
```

而如果用 Agent Skills 的方式，我可以提前创建一个叫 weekly-report 的技能文件夹，里面放一个 SKILL.md 文件，把上述格式要求、示例、我的参考文档全部写进去。

之后只要说“写一份周报”，模型就会自动加载这个技能，并严格按照规范输出。

看到这你可能会说，这不就是传统的提示词工程吗？无非是把提示词存成文件而已。

其实差别不小。传统提示词是一次性、全量塞进上下文的，不管当前任务是否需要，所有内容都会占用 token；而且一旦任务复杂，提示词会越来越长，维护成本高，还容易互相干扰。

你可以想一想，在一段提示词里面，直接写入可能会用到的二十个工具和全部的使用方法和示例，然后逼着大模型保证正确理解和输出，那确实是太为难大模型了，分分钟摆烂给你看。

而 Agent Skills 采用“按需加载”机制：模型启动时只读取每个技能的名称和简短描述（比如“用于生成标准化周报的工具”），只有当它判断当前任务匹配某个技能时，才会去读取该技能的完整内容。

这样既节省上下文资源，又避免了信息过载。更重要的是，这些技能可以像代码模块一样被版本管理、团队共享、独立测试，不会再出现以前很好用的一段提示词但是找不到了抓耳挠腮的情况。

所以说，Agent Skills 不是提示词的替代品，而是对提示词工程的一种结构化升级：把零散的指令，变成可沉淀、可复用、可协作的“工作方法”。

---

## Agent Skills 如何工作？

看到这儿你肯定已经很好奇了，这么厉害的Agent Skills具体是怎么运作的呢？

首先依赖于Claude本身的虚拟机环境，使得Claude具有文件系统访问、bash 命令和代码执行功能，这是Agent skills能够实现的基础；

![[file-20260116-145218-885.jpg]]

其次就不得不提到Agent Skills的核心技术：“渐进式披露”。

简单来说，Skills 将所有skill内容分成了三种内容类型，代表了三个不同的加载级别，这样大模型可以按需分阶段加载需要的信息进入到上下文窗口，大大节省了宝贵的上下文窗口资源。

### 第一种类型

第一种类型，叫做元数据（meta data）。这部分的数据会始终加载进上下文中。

元数据通常使用yaml格式写在skill文件的顶端：

```
---

name: weekly-report-skill

description: 根据用户提供的工作内容、项目进展或原始笔记，自动生成结构清晰、语言专业的周报。适用于用户提到“写周报”“整理本周工作”“生成汇报”等场景。

---
```

这部分内容非常轻量，一般只占几十个token，但却是最关键的信息，作用可以类比为工具书的目录，让大模型知道有这么个工具可以使用，但也没必要提前了解所有关于这个工具的内容。

### 第二种类型

第二种类型，叫做指令（Instructions）。这部分数据只在有需求时才加载。

指令一般包含了具体的工作流程、格式要求、注意事项、具体案例等，相当于是工具书的正文了。

当大模型发现用户的需求和某个工具确实匹配后，系统会把对应的skill.md文件加载进入上下文窗口：

```
# 周报生成

## 快速入门

根据用户输入的工作内容自动生成结构化周报：

\`\`\`python

# 示例：将用户提供的要点整理为专业周报

work_items = [
    "完成用户登录模块的后端接口开发",
    "修复订单导出功能中的时区问题",
    "参与产品需求评审会议，提出技术可行性建议"
]

report = generate_report(work_items)

print(report)

\`\`\`

有关周报模板定制、部门格式适配或敏感信息过滤，请参阅 TEMPLATES.md。
```

这类指令通常控制在几千 token 以内，确保在真正需要时才占用上下文资源。

### 第三种类型

第三种类型，通常包括了资源（resources）、代码（scripts）、参考文档（references）等。

一个Skills的项目目录大概长这样：

```
weekly-report-skill/
├── SKILL.md             # 主要指令与使用指南
├── TEMPLATES.md         # 周报模板规范
├── STYLE_GUIDE.md       # 语言风格、语气、禁用词与专业表达参考
└── scripts/
    └── generate_report.py  # 周报生成实用脚本
```

当大模型按需调用这些资源时，md文档会被用作事实查询进入上下文，而代码文件则是直接被调用执行，因此完全不会进入上下文窗口。

这不但节省了token，也将复杂逻辑交给代码处理，大大提升了可靠性，减少了模型幻觉。

因为只要不加载就不占用上下文，所以理论上来说这部分的token成本非常的小：你可以放心的把最全面的API文档、大型数据集、最广泛的示例或者别的都一股脑放进来。

所以你看，Agent Skills 的优点不在于大模型本身能力多强，而在于提供了一个可以灵活放书换书的足够大的书架，并教会了大模型什么时候该看什么工具书，而大模型自己手上只拿着一本当前任务相关的员工手册就够了。

---

## 一个简单的示例

让我们还是用写周报的例子从头到尾梳理一遍，来进一步了解Agent Skills：

我们充分发挥了聪明才智，自己写了一个关于写周报的Agent Skills，并放到了对应的位置，以下是文件目录：

```
weekly-report-skill/
├── SKILL.md             # 主要指令与使用指南
├── TEMPLATES.md         # 周报模板规范
├── STYLE_GUIDE.md       # 语言风格、语气、禁用词与专业表达参考
└── scripts/
    └── generate_report.py  # 周报生成实用脚本
```

其中，SKILL.md是最关键的主文件，其中包含了元数据、指令及其它：

```
---

name: weekly-report-skill

description: 根据用户提供的工作内容、项目进展或原始笔记，自动生成结构清晰、语言专业的周报。适用于用户提到“写周报”“整理本周工作”“生成汇报”等场景。

---

# 周报生成

## 快速入门

根据用户输入的工作内容自动生成结构化周报：

\`\`\`python

# 示例：将用户提供的要点整理为专业周报

work_items = [
    "完成用户登录模块的后端接口开发",
    "修复订单导出功能中的时区问题",
    "参与产品需求评审会议，提出技术可行性建议"
]

report = generate_report(work_items)

print(report)

\`\`\`

有关周报模板定制、部门格式适配或敏感信息过滤，请参阅 STYLE_GUIDE.md。
```

在我们成功实现Agent Skills后，每次当我们调用大模型，这段元数据就会自动加载进大模型的系统提示（System Prompt）中：`weekly-report-writer - 根据用户提供的工作内容、项目进展或原始笔记，自动生成结构清晰、语言专业的周报。适用于用户提到“写周报”“整理本周工作”“生成汇报”等场景。`

之后我们开始提问：「 请你帮我根据这些内容完成我这周的周报。」

大模型识别到我们这个请求应该调用对应的`weekly-report-skill`工具，因此会使用bash命令`bash: read weekly-report-skill/SKILL.md`
将指令加载到上下文窗口中。

大模型在运行中通过推理得出，这次的周报需要用到敏感信息过滤，因此用相同的方法读取了`STYLE_GUIDE.md`文件。

最后，大模型按照`SKILL.md`中的指令要求，运行`generate_report.py`完成任务。

![[file-20260116-150856-857.jpg]]

整个过程下来，我们不用在一轮轮对话中和大模型斗智斗勇，苦口婆心的劝大模型“能不能按我的要求输出”，只需要一句最朴实无华的问题，就能得到高质量的规范化的结果。

更重要的是，这套技能一旦写好，上利团队，下利亲朋。新来的同事只要接入同一个技能库，AI 就能完成风格一致的工作流；项目换人了，工作方法也不会断档。Agent Skills不再是依赖个人经验的提示词技巧，而是变成一种可沉淀、可传承的数字工作资产。

---

## 自己动手写Agent Skills

那说了这么多，我是不是随便写一个Skills，就能让大模型按照我的意愿完成任务呢？

那必然不是。Agent Skills就是提供了一个框架和接口，大模型能不能顺利完成任务，更多还是得看skills的质量过不过关。

所以，接下来我会向大家说明一些自己写Skills时需要重点关注的细节：

### 第一：简洁很关键

首先，我们必须知道现在的大模型相较于ChatGPT刚出那会儿已经很聪明了。很多当时解决起来费劲的难题现在一句话就能让大模型理解并顺利解决。

再有，上下文窗口是一项有限的、需要合理使用的资源。详情可以看我的另一篇笔记：《==此处待添加==》

所以当我们在写指令时，不用写的过于详细，大模型本身已经会的知识就不要重复写了，例如保留具体的执行流程，而不要保留`周报是指个人或团队在每周固定时间对过去一周工作内容、进展、成果及遇到的问题进行系统性总结……`这种意义不大的内容。

### 第二：考虑任务自由度

针对不同的问题，我们需要用到不同限制程度的skills：
- 如果任务自由度很高，那相应的指令也应很宽泛，通常采用文本说明步骤即可，留足给大模型自由探索的空间；
- 如果任务要求规范但也允许变化，那么可以采用伪代码或者简单脚本的方式来完成；
- 如果任务要求格式很严格或者对于一致性非常重要，那相应的指令应该很严格，用代码进行输出格式限制。

### 第三：考虑到使用的大模型

不同的大模型能力不同，势必会影响到只是作为附加能力的Agent Skills的效果。尽管没法尽善尽美，但在选择模型和Skills的配对时，需要考虑到以下几点：

- 对于一些参数小、速度快的模型，Skills通常要写的更加流程化，提供清晰明确的指导；
- 对于一些强大的具有推理能力的模型，Skills通常要写的简洁精炼，避免过多的解释。

### 第四：规范化Skills结构

首先，良好的命名不仅让技能调用更加顺利，也能让技能库更好的管理与维护，因此Skill的命名应该尽量采用动名词+名词的英文名称，只包含小写字母、数字和连字符，例如`processing-pdfs`;

其次，`description` 字段说明了技能的能力和使用时机，因此必须清晰、具体、简洁，既要准确说明技能能做什么，也要点明适用场景，避免模糊或笼统的表述。

另外，`SKILL.md`文件作为调用技能候的指导目录，亦不宜过长，正文部分最好不要超过500行，如果内容过多可以写成另外的md文件然后在`SKILL.md`中写明使用时机和路径。

最后，在上述情况中不要出现深层的嵌套引用，例如在`SKILL.md`中存在`advanced.md`的使用链接，而在`advanced.md`中又存在`details.md
的使用链接，这会让大模型的查找使用遇到困难。

### 第五：考虑使用工作流

如果我们的任务过于复杂，需要有额外的检查动作来确保结果准确性，那么十分建议写一个额外的工作流文档，比如：

```md

## 研究综合工作流

复制此清单并跟踪您的进度：

\`\`\`

研究进度：

- [ ] 步骤 1：……

- [ ] 步骤 2：……

……

\`\`\`

**步骤 1：……**

……

**步骤 2：……**

若不正确，返回步骤1。

……
```

或者也可以写一份额外的检查流程文档：

```md
## 内容审查流程

1. 按照指南起草您的内容

2. 根据清单审查：……

3. 如果发现问题：……

4. 仅当满足所有要求时才继续

5. 完成并保存文档

```

都能很好的提高工程的鲁棒性。

### 第六：投入前先评估

没人能够保证只要使用了Agent Skills在我们目前投入的任务上效果就会更好。因此在我们花大力气开始编写大量文档前最好先做好效果评估，针对重点场景进行对照测试，不断调整内容与结构找到针对任务最有效的skill。

### 第七：创建中间输出

即使大模型实力强大，遇到复杂棘手的任务依然会出错。我们要做的是在错误的雪球越滚越大之前将其及时截获，采取的方法则是先让大模型以结构化格式创建计划，然后在执行前先用脚本验证该计划。

这样可以让我们提前捕获可能的错误，还更加方便调试和修改。

遵循上述的一些小细节，相信大家都能写出高质量的skill。

---

## 总结

到这儿，你应该已经看明白了：

Agent Skills 并没有带来颠覆性的技术创新，但它巧妙地将一些已有的功能点整合起来，做成了一套大家真正愿意用、也用得顺手的工具，这是它最大的优点。

对大家来说，这意味着可以少写提示词，多建技能包；不在碰运气，而是从结构上规范大模型的输出。

不过坏消息是目前能使用Agent Skills的地方有限，虽然Anthropic开源了规范，但是目前国内跟进的厂商还比较少，如果想在国内真正在工作环境中用上，估计还得等一段时间。

如果你很感兴趣，可以先去Claude、或者Cursor、VScode尝试一下，迈出你高效协作的第一步。

